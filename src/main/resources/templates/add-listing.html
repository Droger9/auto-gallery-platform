<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Listing</title>
    <link rel="stylesheet" th:href="@{/css/modern.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<div th:replace="fragments/header :: header-fragment"></div>

<main class="container" style="margin-top:100px;">
    <div class="form-container" style="background: #fff; padding: 2rem 3rem; border-radius: 10px;
       box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15); max-width: 600px; margin: 3rem auto;">
        <h2>Create New Listing</h2>
        <p>Fill in the details below to create a new listing, specify the car info, and attach an image.</p>


        <form th:action="@{/listings/add}" th:object="${createNewListing}" method="POST">
            <h3>Listing Info</h3>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" th:field="*{title}" placeholder="Listing title">
                <div th:if="${#fields.hasErrors('title')}" class="error">
                    <p th:errors="*{title}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="text" id="phoneNumber" th:field="*{phoneNumber}" placeholder="Contact phone">
                <div th:if="${#fields.hasErrors('phoneNumber')}" class="error">
                    <p th:errors="*{phoneNumber}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="price">Price</label>
                <input type="text" id="price" th:field="*{price}" placeholder="Car price">
                <div th:if="${#fields.hasErrors('price')}" class="error">
                    <p th:errors="*{price}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="color">Color</label>
                <input type="text" id="color" th:field="*{color}" placeholder="Car color">
                <div th:if="${#fields.hasErrors('color')}" class="error">
                    <p th:errors="*{color}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="yearOfManufacture">Year of Manufacture</label>
                <input type="number" id="yearOfManufacture" th:field="*{yearOfManufacture}" placeholder="e.g., 2020">
                <div th:if="${#fields.hasErrors('yearOfManufacture')}" class="error">
                    <p th:errors="*{yearOfManufacture}"></p>
                </div>
            </div>

            <h3>Car Info</h3>
            <div class="form-group">
                <label for="make">Make</label>
                <input type="text" id="make" th:field="*{make}" placeholder="e.g., Toyota">
                <div th:if="${#fields.hasErrors('make')}" class="error">
                    <p th:errors="*{make}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="model">Model</label>
                <input type="text" id="model" th:field="*{model}" placeholder="e.g., Corolla">
                <div th:if="${#fields.hasErrors('model')}" class="error">
                    <p th:errors="*{model}"></p>
                </div>
            </div>
            <div class="form-group">
                <label for="carType">Car Type</label>
                <select id="carType" th:field="*{carType}">
                    <option th:each="type : ${T(app.model.CarType).values()}"
                            th:value="${type}"
                            th:text="${type}">
                    </option>
                </select>
                <div th:if="${#fields.hasErrors('carType')}" class="error">
                    <p th:errors="*{carType}"></p>
                </div>
            </div>

            <h3>Image</h3>
            <div class="form-group">
                <label for="imageUrl">Image URL</label>
                <input type="text" id="imageUrl" th:field="*{imageUrl}" placeholder="http://example.com/car.jpg">
                <div th:if="${#fields.hasErrors('imageUrl')}" class="error">
                    <p th:errors="*{imageUrl}"></p>
                </div>
            </div>

            <div class="form-actions" style="margin-top: 2rem;">
                <button type="submit" class="cta-btn">Add Listing</button>
            </div>
        </form>
    </div>
</main>

<footer>
    <div class="container">
        <p>&copy; 2025 Auto Gallery Platform. All rights reserved.</p>
    </div>
</footer>
</body>
</html>
